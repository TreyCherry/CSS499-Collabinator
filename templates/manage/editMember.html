{% extends "auth/register.html" %}
{% from "auth/register.html" import value %}


{% block title %}Edit Member{% endblock %}

{% block passwordinfo %}placeholder="New Password (unchanged)"{% endblock  %}

{% block other %}
    <label for="role_id">Role: </label>
    <select name="role_id">
        {% for role in roles %}
            <option value="{{role['role_id']}}" {% if member and role["role_id"] == member["role_id"]%}selected{% endif %}>{{role["role_name"]}}</option>
        {% endfor %}
    </select>
{% endblock %}

{% block submit %}Submit{% endblock %}
{% block extrabutton %}
<form method="post">
    <input type="hidden" name="delete" id="delete" value="0">
    <button onclick="removeButton();" id="remove" {% if member["user_id"] == 1 %}disabled{% endif %}>Remove User</button>
    <button type="submit">Cancel</button>
</form>
{% endblock %}
<script>
{% block scripts %}
    function removeButton() {
        if (confirm("This will permanently remove the user. Press OK to confirm.")) {
            document.getElementById("delete").value = "1";
            this.form.submit();
        }
    }
{% endblock %}
</script>